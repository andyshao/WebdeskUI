<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Treemenu</title>
    <script type="text/javascript" src="Scripts/webdesk.ui.core.js"></script>
    <script type="text/javascript" src="Scripts/ctrls.js"></script>
    <script type="text/javascript" src="Scripts/treemenu.js"></script>
    <link rel="stylesheet" type="text/css" href="Styles/treemenu.css" />
    <style type="text/css">
    html,
    body {
        overflow: hidden;
    }
    </style>
</head>

<body oncontextmenu='self.event.returnValue=false'>
    <div style='margin: 50px;width: calc(100% - 100px);height: calc(100% - 100px)'>
        <div id="treemenu-area"></div>
    </div>
</body>
<script type="text/javascript">
var tree = $treemenu.create({
    target: '#treemenu-area',
    width: '100%',
    height: '100%'
});
var data = {
    title: '系统设置',
    tit: '系统',
    ico: '',
    link: '',
    type: '',
    marker: '',
    intro: '',
    childs: [{
        title: '首选项',
        link: 'xx',

        intro: '基本设置',
        childs: [{
            title: '账号管理',
            link: 'zhanghao',
            font: {
                color: 'red',
                bold: true,
                italic: true
            },
        }, {
            title: '接口管理',
            link: 'jiekou',
            childs: [{
                title: '微信支付'
            }, {
                title: '支付宝支付'
            }]
        }]
    }, {
        title: '常用'
    }],
    id: 0,
    pid: 0

};
tree.add(data);
var clone = $dom.clone(data);
clone.title = '去球';
tree.add(clone);
tree.watch({
    'width': function(obj, val, old) {
        console.log('宽度由：' + old + ' 变更为:' + val);
    }
});
var size = function(s, e) {
    console.log('treemenu的宽:' + e.width + '，高：' + e.height);
};
tree.onresize(size);

//tree.onresize();
tree.width = 300;
//tree.unbind('resize', size);
tree.height = 300;
</script>

</html>